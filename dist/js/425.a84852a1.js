"use strict";(self["webpackChunkbuaa_se_2022_summer"]=self["webpackChunkbuaa_se_2022_summer"]||[]).push([[425],{3425:function(t,i,s){s.r(i),s.d(i,{default:function(){return u}});var a=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"menu"},[i("button",{attrs:{id:"back"},on:{click:t.back}},[t._v("返回")]),i("button",{attrs:{id:"new"}},[t._v("清空")]),i("button",{attrs:{id:"save"}},[t._v("保存")])]),t._m(0)])},e=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"container"},[i("div",{staticClass:"options"},[i("button",{staticClass:"option-button format",attrs:{id:"bold"}},[i("i",{staticClass:"fa-solid fa-bold"})]),i("button",{staticClass:"option-button format",attrs:{id:"italic"}},[i("i",{staticClass:"fa-solid fa-italic"})]),i("button",{staticClass:"option-button format",attrs:{id:"underline"}},[i("i",{staticClass:"fa-solid fa-underline"})]),i("button",{staticClass:"option-button format",attrs:{id:"strikethrough"}},[i("i",{staticClass:"fa-solid fa-strikethrough"})]),i("button",{staticClass:"option-button script",attrs:{id:"superscript"}},[i("i",{staticClass:"fa-solid fa-superscript"})]),i("button",{staticClass:"option-button script",attrs:{id:"subscript"}},[i("i",{staticClass:"fa-solid fa-subscript"})]),i("button",{staticClass:"option-button",attrs:{id:"insertOrdererList"}},[i("div",{staticClass:"fa-solid fa-list-ol"})]),i("button",{staticClass:"option-button",attrs:{id:"insertUnorderedList"}},[i("i",{staticClass:"fa-solid fa-list"})]),i("button",{staticClass:"option-button",attrs:{id:"undo"}},[i("i",{staticClass:"fa-solid fa-rotate-left"})]),i("button",{staticClass:"option-button",attrs:{id:"redo"}},[i("i",{staticClass:"fa-solid fa-rotate-right"})]),i("button",{staticClass:"adv-option-button",attrs:{id:"createLink"}},[i("i",{staticClass:"fa fa-link"})]),i("button",{staticClass:"option-button",attrs:{id:"unlink"}},[i("i",{staticClass:"fa fa-unlink"})]),i("button",{staticClass:"option-button align",attrs:{id:"justifyLeft"}},[i("i",{staticClass:"fa-solid fa-align-left"})]),i("button",{staticClass:"option-button align",attrs:{id:"justifyCenter"}},[i("i",{staticClass:"fa-solid fa-align-center"})]),i("button",{staticClass:"option-button align",attrs:{id:"justifyRight"}},[i("i",{staticClass:"fa-solid fa-align-right"})]),i("button",{staticClass:"option-button align",attrs:{id:"justifyFull"}},[i("i",{staticClass:"fa-solid fa-align-justify"})]),i("button",{staticClass:"option-button spacing",attrs:{id:"indent"}},[i("i",{staticClass:"fa-solid fa-indent"})]),i("button",{staticClass:"option-button spacing",attrs:{id:"outdent"}},[i("i",{staticClass:"fa-solid fa-outdent"})]),i("select",{staticClass:"adv-option-button",attrs:{name:"",id:"formatBlock"}},[i("option",{attrs:{value:"H1"}},[t._v("H1")]),i("option",{attrs:{value:"H2"}},[t._v("H2")]),i("option",{attrs:{value:"H3"}},[t._v("H3")]),i("option",{attrs:{value:"H4"}},[t._v("H4")]),i("option",{attrs:{value:"H5"}},[t._v("H5")]),i("option",{attrs:{value:"H6"}},[t._v("H6")])]),i("select",{staticClass:"adv-option-button",attrs:{name:"",id:"fontName"}}),i("select",{staticClass:"adv-option-button",attrs:{name:"",id:"fontSize"}}),i("div",{staticClass:"input-wrapper"},[i("input",{staticClass:"adv-option-button",attrs:{type:"color",name:"",id:"foreColor"}}),i("label",{attrs:{for:"foreColor"}},[t._v("字体颜色")])]),i("div",{staticClass:"input-wrapper"},[i("input",{staticClass:"adv-option-button",attrs:{type:"color",name:"",id:"backColor"}}),i("label",{attrs:{for:"backColor"}},[t._v("突出颜色")])])]),i("div",{attrs:{id:"text-input",contenteditable:"true"}})])}],o=s(5410),n=s.n(o),l={data(){return{msg:""}},components:{},methods:{back(){this.$router.push("/project")},initializer(t){let i=document.querySelectorAll(".option-button"),s=document.querySelectorAll(".adv-option-button"),a=document.getElementById("fontName"),e=document.getElementById("fontSize"),o=document.getElementById("createLink"),l=document.querySelectorAll(".align"),r=document.querySelectorAll(".spacing"),c=document.querySelectorAll(".format"),d=document.querySelectorAll(".script"),u=document.getElementById("save"),p=document.getElementById("new"),f=["Arial","Verdana","Time New Roman","Garamond","Georgia","Courier New","cursive"];this.highlighter(l,!0),this.highlighter(r,!0),this.highlighter(c,!1),this.highlighter(d,!0),console.log(t),null!=t&&(document.getElementById("text-input").innerHTML=t),f.map((t=>{let i=document.createElement("option");i.value=t,i.innerHTML=t,a.appendChild(i)}));for(let n=1;n<=7;n++){let t=document.createElement("option");t.value=n,t.innerHTML=n,e.appendChild(t)}e.value=2,i.forEach((t=>{t.addEventListener("click",(()=>{this.modifyText(t.id,!1,null)}))})),s.forEach((t=>{t.addEventListener("change",(()=>{this.modifyText(t.id,!1,t.value)}))})),o.addEventListener("click",(()=>{let t=prompt("Enter a URL");t="https://"+t,this.modifyText(o.id,!1,t)})),u.addEventListener("click",(()=>{console.log(JSON.stringify(document.getElementById("text-input").innerHTML));let t=document.getElementById("text-input").innerHTML;if(""===t)return void alert("保存内容不能为空");let i=this.$store.state.projectid,s=this;this.$axios({url:"/inserttext/",method:"post",data:n().stringify({projectid:i,projecttext:t})}).then((t=>{switch(t.data.errornumber){case 0:s.msg=t.data.message;break}}))})),p.addEventListener("click",(()=>{document.getElementById("text-input").innerHTML='<i><font color="#929090">请创建新文本</font></i>'}))},modifyText(t,i,s){document.execCommand(t,i,s)},highlighter(t,i){t.forEach((s=>{s.addEventListener("click",(()=>{if(i){let i=!1;s.classList.contains("active")&&(i=!0),this.highlighterRemover(t),i||s.classList.add("active")}else s.classList.toggle("active")}))}))},highlighterRemover(t){t.forEach((t=>{t.classList.remove("active")}))}},mounted(){let t=this.$store.state.projectid,i=this;this.$axios({url:"/edittext/",method:"post",data:n().stringify({projectid:t})}).then((t=>{switch(t.data.errornumber){case 0:i.msg=t.data.projecttext,console.log("请求体"+i.msg),this.initializer(i.msg);break}}))}},r=l,c=s(1001),d=(0,c.Z)(r,a,e,!1,null,"d34ecca4",null),u=d.exports}}]);
//# sourceMappingURL=425.a84852a1.js.map