"use strict";(self["webpackChunkbuaa_se_2022_summer"]=self["webpackChunkbuaa_se_2022_summer"]||[]).push([[41],{1041:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage",attrs:{id:"manage"}},[t("el-container",[t("el-header",[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.showproj}},[e._v("项目中心")]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.showrubbish}},[e._v("回收站")]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.showAdd}},[e._v("新建项目")]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.toManageTeam}},[e._v("管理团队")]),t("el-menu-item",{attrs:{index:"5","text-color":"#eb5451"}},[t("el-button",{attrs:{type:"text"},on:{click:e.logout}},[e._v("退出登陆")])],1)],1)],1),t("el-container",[t("el-main",[t("el-table",{staticStyle:{width:"80%"},attrs:{data:e.tableData,border:"",id:"proj-show"}},[t("el-table-column",{attrs:{prop:"projname",label:"项目名"}}),t("el-table-column",{attrs:{prop:"teamname",label:"所属团队"}}),t("el-table-column",{attrs:{label:"操作",width:"00"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleRedo(a.$index,a.row)}}},[e._v("恢复 ")]),t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("彻底删除 ")])]}}])})],1)],1)],1)],1)],1)},i=[],r=a(5410),o=a.n(r),n={inject:["reload"],name:"ManageRubbish",data(){return{activeIndex:"2",projectlist:[],projectidlist:[],teamlist:[],tableData:[]}},methods:{toManageTeam(){this.$router.push("/manageTeam")},logout(){this.$confirm("您即将退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"退出成功!"}),this.$store.dispatch("clear"),this.$router.push("/login")})).catch((()=>{this.$message({type:"info",showClose:!0,message:"已放弃"})}))},showproj:function(){this.$router.push("/manageProject")},showrubbish:function(){},showAdd:function(){this.$router.push("/addProject")},handleDelete(e){this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$axios({method:"post",url:"/deleteproject/",data:o().stringify({projectid:this.projectidlist[e]})}).then((e=>{switch(e.data.errornumber){case 0:this.$message.success("删除项目成功！"),this.reload();break;case 1:this.$message.error("请求方式错误");break}})).catch((e=>{console.log(e)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleRedo(e){this.$axios({method:"post",url:"/regainproject/",data:o().stringify({projectid:this.projectidlist[e]})}).then((e=>{switch(e.data.errornumber){case 0:this.$message.success("恢复项目成功！"),this.reload();break;case 1:this.$message.error("请求方式错误");break}})).catch((e=>{console.log(e)}))}},mounted(){const e=this.$store.state.userid;let t=this;this.$axios({url:"/initialgarbage/",method:"post",data:o().stringify({userid:e})}).then((e=>{switch(e.data.errornumber){case 0:t.projectlist=e.data.projectnamelist,t.projectidlist=e.data.projectidlist,t.teamlist=e.data.teamlist;for(var a=t.projectlist.length,s=0;s<a;s++)t.tableData.push({projname:t.projectlist[s],teamname:t.teamlist[s]});break;case 1:this.$message.error("请求方式错误");break}}))},computed:{getByProjectName(e){let t,a=0;for(t in this.projectlist){if(t==e)break;a++}return this.projectidlist.indexOf(a)}}},l=n,c=a(1001),u=(0,c.Z)(l,s,i,!1,null,"397f2b03",null),d=u.exports}}]);
//# sourceMappingURL=41.d2480b05.js.map