"use strict";(self["webpackChunkbuaa_se_2022_summer"]=self["webpackChunkbuaa_se_2022_summer"]||[]).push([[470],{4470:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage",attrs:{id:"manage"}},[t("el-container",[t("el-header",[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.showproj}},[e._v("项目中心")]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.showrubbish}},[e._v("回收站")]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.showAdd}},[e._v("新建项目")]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.toManageTeam}},[e._v("管理团队")]),t("el-menu-item",{attrs:{index:"5","text-color":"#eb5451"}},[t("el-button",{attrs:{type:"text"},on:{click:e.logout}},[e._v("退出登陆")])],1)],1)],1),t("el-container",[t("el-main",[t("el-table",{staticStyle:{width:"80%"},attrs:{data:e.tableData,border:"",id:"proj-show"}},[t("el-table-column",{attrs:{prop:"projname",label:"项目名"}}),t("el-table-column",{attrs:{prop:"teamname",label:"所属团队"}}),t("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleLook(a.$index)}}},[e._v("查看 ")]),t("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(a.$index)}}},[e._v("重命名 ")]),t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("移到回收站 ")])]}}])})],1)],1)],1)],1)],1)},i=[],o=a(5410),r=a.n(o),n={inject:["reload"],name:"ManageProject",data(){return{activeIndex:"1",projectlist:[],projectidlist:["1","2","3"],teamlist:[],tableData:[]}},methods:{toManageTeam(){this.$router.push("/manageTeam")},logout(){this.$confirm("您即将退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"退出成功!"}),this.$store.dispatch("clear"),this.$router.push("/login")})).catch((()=>{this.$message({type:"info",showClose:!0,message:"已放弃"})}))},showproj:function(){},showrubbish:function(){this.$router.push("/manageRubbish")},showAdd:function(){this.$router.push("/addProject")},handleEdit(e){this.$prompt("请输入项目新名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"项目新名称"}).then((({value:t})=>{this.$message({type:"success",message:"你把项目更名为: "+t});let a=this;this.$axios({method:"post",url:"/renameproject/",data:r().stringify({projectid:a.projectidlist[e],newprojectname:t})}).then((e=>{switch(e.data.errornumber){case 0:this.reload();break;case 1:this.$message.error("失败");break}})).catch((e=>{console.log(e)}))}))},handleDelete(e){let t=this;this.$axios({method:"post",url:"/removeproject/",data:r().stringify({projectid:t.projectidlist[e]})}).then((e=>{switch(e.data.errornumber){case 0:this.$message.success("移动到回收站成功！"),this.reload();break;case 1:this.$message.error("请求方式错误");break}})).catch((e=>{console.log(e)}))},handleLook(e){this.$store.state.projectid=this.projectidlist[e],this.$router.push("/project")}},mounted(){const e=this.$store.state.userid;let t=this;this.$axios({url:"/initialproject/",method:"post",data:r().stringify({userid:e})}).then((e=>{switch(e.data.errornumber){case 0:t.projectlist=e.data.projectnamelist,t.projectidlist=e.data.projectidlist,t.teamlist=e.data.teamlist;for(var a=t.projectlist.length,s=0;s<a;s++)t.tableData.push({projname:t.projectlist[s],teamname:t.teamlist[s]});break;case 1:this.$message.error("请求方式错误");break}}))},computed:{}},l=n,c=a(1001),u=(0,c.Z)(l,s,i,!1,null,"782108fe",null),d=u.exports}}]);
//# sourceMappingURL=470.2cfb00fc.js.map