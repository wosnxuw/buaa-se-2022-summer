"use strict";(self["webpackChunkbuaa_se_2022_summer"]=self["webpackChunkbuaa_se_2022_summer"]||[]).push([[916],{9916:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login",attrs:{id:"login"}},[s("div",{staticClass:"wrap"},[s("h1",[e._v("登 录")]),s("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{placeholder:"邮箱",type:"text",autocomplete:"off"},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}})],1),s("el-form-item",{attrs:{id:"password",prop:"password"}},[s("el-input",{attrs:{placeholder:"密码","show-password":"",type:"password",autocomplete:"off"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1),s("el-form-item",{staticClass:"btn_login"},[s("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登  录")])],1)],1),s("div",{staticClass:"suffix"},[s("p",{on:{click:e.toRegister}},[e._v("注册帐号")])])],1)])},a=[],o=t(5410),i=t.n(o),l={name:"LoginView",data(){return{form:{email:"",password:""}}},methods:{login:function(){""!==this.form.email&&""!==this.form.password?this.$axios({method:"post",url:"/login/",data:i().stringify({email:this.form.email,password:this.form.password})}).then((e=>{switch(e.data.errornumber){case 0:this.$message.success("登录成功！"),this.$store.dispatch("saveUserInfo",{user:{email:e.data.email,token:e.data.token,userid:e.data.userid}}),this.$store.state.userid=e.data.userid,setTimeout((()=>{this.$router.push("/manageProject")}),1e3);break;case 1:this.$message.error("请求方式错误");break;case 2:this.$message.error("用户不存在，请注册");break;case 3:this.$message.error("密码错误，请重试");break}})).catch((e=>{console.log(e)})):this.$message.warning("请输入用户名和密码！")},toRegister:function(){this.$router.push("/register")}}},n=l,m=t(1001),u=(0,m.Z)(n,r,a,!1,null,"44e877d4",null),c=u.exports}}]);
//# sourceMappingURL=916.33c17223.js.map